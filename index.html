<script>
  const demoDB = {
    "123ABC": { message: "Ø§Ù„Ø¹Ø±Ø¨Ø© Ù…ÙˆØ¬ÙˆØ¯Ø© - Ø§ØªØµÙ„ Ø¨Ù†Ø§ Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹.", image: null },
    "456DEF": { message: "ØªÙ… ØªØ³Ù„ÙŠÙ… Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ø±Ø¨Ø© Ù„ØµØ§Ø­Ø¨Ù‡Ø§.", image: null }
  };

  let isAdmin = false;

  function searchCar() {
    const input = document.getElementById("searchInput").value.trim();
    const result = document.getElementById("result");
    const contact = document.getElementById("contactInfo");
    const carImage = document.getElementById("carImage");
    carImage.innerHTML = "";

    if (!input) {
      result.textContent = "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… ØµØ­ÙŠØ­.";
      result.style.color = "#dc2626";
      contact.textContent = "";
      return;
    }

    if (demoDB[input]) {
      result.textContent = demoDB[input].message;
      result.style.color = "#16a34a";
      contact.textContent = "ğŸ“ Ù„Ù„ØªÙˆØ§ØµÙ„ ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‡Ø°Ù‡ Ø¹Ø±Ø¨ØªÙƒ: 0129271559";
      if (demoDB[input].image) {
        const img = document.createElement("img");
        img.src = demoDB[input].image;
        img.alt = "ØµÙˆØ±Ø© Ø§Ù„Ø³ÙŠØ§Ø±Ø©";
        img.className = "uploaded-img";
        carImage.appendChild(img);
      }
    } else {
      result.textContent = "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø±Ù‚Ù… Ø­Ø§Ù„ÙŠØ§Ù‹.";
      result.style.color = "#dc2626";
      contact.textContent = "";
    }
  }

  function loginAdmin() {
    const pass = document.getElementById("adminPass").value;
    const adminPanel = document.getElementById("adminPanel");
    if (pass === "1234") {  // â†â†â†â† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
      adminPanel.style.display = "block";
      isAdmin = true;
      alert("âœ… ØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø³Ø¤ÙˆÙ„.");
    } else {
      alert("âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©.");
    }
  }

  function addNewEntry() {
    if (!isAdmin) {
      alert("ÙŠØ¬Ø¨ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ…Ø³Ø¤ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹.");
      return;
    }

    const key = document.getElementById("newKey").value.trim();
    const message = document.getElementById("newMessage").value.trim();
    const fileInput = document.getElementById("newImage");
    const file = fileInput.files[0];

    if (!key || !message) {
      alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„.");
      return;
    }

    if (file) {
      const reader = new FileReader();
      reader.onload = function (e) {
        demoDB[key] = { message: message, image: e.target.result };
        alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ù‚Ù… ÙˆØ§Ù„ØµÙˆØ±Ø© Ø¨Ù†Ø¬Ø§Ø­!");
      };
      reader.readAsDataURL(file);
    } else {
      demoDB[key] = { message: message, image: null };
      alert("ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø±Ù‚Ù… Ø¨Ø¯ÙˆÙ† ØµÙˆØ±Ø©.");
    }

    document.getElementById("newKey").value = "";
    document.getElementById("newMessage").value = "";
    fileInput.value = "";
  }
</script>
